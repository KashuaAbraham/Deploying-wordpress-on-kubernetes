apiVersion: v1
kind: PersistentVolume
metadata:
  name: wordpress-pv
  namespace: wordpress
spec:
  capacity:
    storage: 10Gi
  accessModes:
    - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: manual
  hostPath:
    path: "/mnt/data"

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: wordpress-pvc
  namespace: wordpress
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: manual
  resources:
    requests:
      storage: 10Gi
      ---
      apiVersion: apps/v1
      kind: Deployment
      metadata:
        name: wordpress
        namespace: wordpress
      spec:
        replicas: 1
        selector:
          matchLabels:
            app: wordpress
        template:
          metadata:
            labels:
              app: wordpress
          spec:
            containers:
            - name: wordpress
              image: wordpress:latest
              ports:
              - containerPort: 80
              volumeMounts:
              - name: wordpress-storage
                mountPath: /var/www/html
            volumes:
            - name: wordpress-storage
              persistentVolumeClaim:
                claimName: wordpress-pvc